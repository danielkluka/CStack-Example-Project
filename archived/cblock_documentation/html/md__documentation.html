<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BPC-PPC 2022: CBlock Project: Dokumentace projektu CBlock</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="project_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">BPC-PPC 2022: CBlock Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Dokumentace projektu CBlock </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="doc"></a> </p><h2>Teoretický popis: Termín datový kontejner</h2>
<p >Termín kontejner představuje v oblasti návrhu datových struktur a algoritmů takový datový typ, který umožňuje za běhu programu sdružovat více prvků (stejného nebo i různého typu) do jedné společné složené datové struktury. Výhody spojené s používáním kontejneru lze najít například v jednoduchém předání všech prvků takového kontejneru do funkce pomocí jediného argumentu (typu kontejner), nebo pro předání více hodnot z funkce, kde návratovou hodnotou je opět jediná hodnota (typu kontejner). Hlavní výhodou je ovšem možnost provedení operace nad všemi prvky kontejneru pomocí zápisu jediného volání služby, kterou zajistí přímo daný kontejner v rámci svého API. Mezi takové služby může patřit dealokace paměti všech prvků v kontejneru, vytisknutí všech prvků v kontejneru a další operace spojené se správou prvků v kontejneru. Prvky vkládané do Vašeho budoucího datového kontejneru budou právě instance třídy <code>CBlock</code>. Ale i na samotnou třídu <code>CBlock</code> lze pohlížet jako na primitivní kontejner mající jedinou hodnotu.</p>
<h3>Třída <a class="el" href="class_c_block_base.html" title="CBlockBase class.">CBlockBase</a></h3>
<p >Třída <code><a class="el" href="class_c_block_base.html" title="CBlockBase class.">CBlockBase</a></code> implementuje všechny vlastnosti, které jsou společné pro jakékoliv prvky lineárního obousměrně vázaného seznamu, tj. obsahuje ukazatel <code>iNext</code>, ze kterého je možné určit odkaz na další prvek, a ukazatel <code>iPrev</code>, ze kterého je možné určit odkaz na předchozí prvek. Dále implementuje mechanismy konstrukce, modifikace hodnot ukazatele a základní kontrolní mechanismy. Tato třída neobsahuje v definici žádná užitečná data, které by měl každý prvek seznamu obsahovat. Definuje tak pouze základní rozhraní, které bude společné všem prvkům bez ohledu na typ a množství užitečných dat.</p>
<p >Prvek třídy <code><a class="el" href="class_c_block_base.html" title="CBlockBase class.">CBlockBase</a></code> je možné zrušit (destruktorem) pouze pokud jeho ukazatele <code>iNext</code> a <code>iPrev</code> ukazují na <code>nullptr</code> - a není tedy součástí většího seznamu.</p>
<p >Třída dále obsahuje složku <a class="el" href="class_c_block_base.html#ae89024ca8d7b24c531a5467af8a3a02a">iExtraInt</a>, která je potřebná pro realizaci některých projektů. Lze ji například použít jako: <b>multimnožina</b> (<em>kde obsahuje počet opakujících se prvků</em> <code>CBlock</code> <em>stejné hodnoty</em>), <b>mapa</b> (<em>kde obsahuje hodnotu klíče pro daný prvek</em> <code>CBlock</code>), <b>asociativní pole</b> (<em>kde obsahuje výslednou</em> <code>int</code> <em>hodnotu, pro kterou je daný</em> <code>CBlock</code> <em>klíčem</em>), <b>prioritní fronta</b> (<em>kde obsahuje hodnotu priority daného prvku</em> <code>CBlock</code>).</p>
<h3>Třída CBlock</h3>
<p >Třída <code>CBlock</code> obsahuje prvek (nebo prvky) mající hodnotu, kterou jako třída zapouzdřuje (<code>bool</code>, <code>TWeekDay</code>, <b>long</b>, <b>TInterval</b>). </p><dl class="section note"><dt>Note</dt><dd><em>V předchozím řádku nahraďte tučně označenou část textu názvy typů, které Vám byly zadány na cvičeních!</em></dd></dl>
<p>Úlohou třídy <code>CBlock</code> je v definici mít složku <code>iValue</code>, jenž představuje užitečná data, která bude každý prvek seznamu obsahovat. Dále je třeba vhodně upravit (případně doplnit, ne však vytvořit nové) metody určené pro konstrukci a likvidaci prvku tak, aby bylo možné nový prvek efektivně konstruovat a využívat. Třída <code>CBlock</code> je navíc správcem své vlastní hodnoty <code>iValue</code> a proto definuje základní metody pro zjištění, nastavení této hodnoty a zároveň zajišťuje pro nadřazené vyšší části programu metody pro porovnání dvou prvků <code>CBlock</code> dle této hodnoty, čímž izoluje nadřazené části od nutnosti znát konkrétní datový typ složky <code>iValue</code>. Třída <code>CBlock</code> má předka <code><a class="el" href="class_c_block_base.html" title="CBlockBase class.">CBlockBase</a></code>, který zajišťuje funkce spojené s lineárním seznamem a obsahuje pomocný prvek (potřebný v některých projektech) <code>iExtraInt</code>.</p>
<p >Vzorové dodané třídy <code>CBlock</code> (<code>bool</code>, <code>TWeekDay</code>) v projektu nesmíte měnit. Zároveň ovšem program musí pracovat se všemi (čtyřmi) implementacemi třídy <code>CBlock</code> (ale ne současně). Z toho plyne, že vámi tvořené třídy musí mít stejné vlastnosti rozhraní jako vzorově dodané třídy, a že metody, které bude mít vaše třída navíc, není možné ve tvořeném kontejneru používat (protože by kontejner nešel pro vzorové třídy přeložit).</p>
<h3>Jmenné prostory CBlock_xxxx (<code><a class="el" href="namespace_c_block__bool.html" title="Namespace for encapsulating of bool variant of CBlock class.">CBlock_bool</a></code>, <code><a class="el" href="namespace_c_block___t_week_day.html" title="Namespace for encapsulating of TWeekDay variant of CBlock class.">CBlock_TWeekDay</a></code>)</h3>
<p >Návrh programu i Vaše zadání požaduje nezávislost na vnitřní implementaci třídy <code>CBlock</code> (konkrétním datovém typu složky <code>iValue</code>). To znamená, že všechny implementace musí obsahovat stejné/společné metody, ale mohou se lišit v implementaci (datové členy a činnost metod). Nutné metody jsou dány požadavkem na funkčnost vzorové a neměnné funkce <a class="el" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a>. Její kód tedy definuje požadované vlastnosti/rozhraní třídy. Návrh navíc umožňuje, aby uživatel mohl odkomentováním řádku přepínat mezi vnitřními implementacemi <code>CBlock</code>. Tento mechanismus je zajištěn pomocí definice každé z variant <code>CBlock</code> ve vlastním jmenném prostoru <code>CBlock_NAZEV_TYPU</code>. Díky této skutečnosti může existovat v programu několik stejně pojmenovaných tříd <code>CBlock</code>, neboť názvy existují ve svém vlastním oboru viditelnosti (jmenném prostoru).</p>
<p >Volba dané varianty <code>CBlock</code> je potom prováděna v souboru <a class="el" href="_c_block_8h.html" title="General header for CBlock.">CBlock.h</a>, odkomentovaním toho řádku, který exportuje daný jmenný prostor do globálního prostoru jmen. </p><div class="fragment"><div class="line"><span class="keyword">using </span><a class="code hl_class" href="class_c_block___t_interval_1_1_c_block.html">CBlock</a> = </div>
<div class="line">        <a class="code hl_class" href="class_c_block__bool_1_1_c_block.html">CBlock_bool::CBlock</a>;</div>
<div class="line"><span class="comment">//      CBlock_char::CBlock;</span></div>
<div class="line"><span class="comment">//      CBlock_int::CBlock;</span></div>
<div class="line"><span class="comment">//      CBlock_float::CBlock;</span></div>
<div class="line"><span class="comment">//      CBlock_TWeekDay::CBlock;</span></div>
<div class="ttc" id="aclass_c_block___t_interval_1_1_c_block_html"><div class="ttname"><a href="class_c_block___t_interval_1_1_c_block.html">CBlock_TInterval::CBlock</a></div><div class="ttdoc">CBlock class (TInterval variant)</div><div class="ttdef"><b>Definition:</b> <a href="_c_block___t_interval_8h_source.html#l00308">CBlock_TInterval.h:309</a></div></div>
<div class="ttc" id="aclass_c_block__bool_1_1_c_block_html"><div class="ttname"><a href="class_c_block__bool_1_1_c_block.html">CBlock_bool::CBlock</a></div><div class="ttdoc">CBlock class (bool variant)</div><div class="ttdef"><b>Definition:</b> <a href="_c_block__bool_8h_source.html#l00031">CBlock_bool.h:32</a></div></div>
</div><!-- fragment --><h2>Realizace dalších variant tříd CBlock</h2>
<p >V současnosti projekt obsahuje tyto varianty tříd <code>CBlock</code>, z nichž je každá definována ve svém jmenném prostoru:</p><ul>
<li><code><a class="el" href="class_c_block__bool_1_1_c_block.html" title="CBlock class (bool variant)">CBlock_bool::CBlock</a></code></li>
<li><code><a class="el" href="class_c_block___t_week_day_1_1_c_block.html" title="CBlock class (TWeekDay variant)">CBlock_TWeekDay::CBlock</a></code></li>
</ul>
<p ><b>Tyto dvě třídy jsou pevně zadány a je zakázáno modifikovat jejich zdrojové texty!</b> Pro každou další variantu <code>CBlock</code> nadefinujte nový jmenný prostor <code>CBlock_NAZEV_TYPU</code> a v něm implementujte novou variantu třídy <code>CBlock</code>. </p><dl class="section note"><dt>Note</dt><dd>Mechanismus by samozřejmě bylo možné realizovat i zcela automaticky (překladač sám dle potřeby programátora vygeneruje novou variantu třídy <code>CBlock</code> pomocí definované šablony, případně bude umožnovat dynamickou identifikaci typu a tím umožní mít při běhu programu v jednom seznamu různé varianty prvků <code>CBlock</code>. Protože tyto techniky patří svým rozsahem k pokročilejším, rozhodli jsme se jim v tomto projektu vyhnout.</dd></dl>
<h2>Testovací hlavní program</h2>
<p >Hlavní program v souboru <a class="el" href="main_8cpp.html" title="Main source.">main.cpp</a> představuje základní sadu testů, které ověřují správnou funkci libovolné varianty třídy <code>CBlock</code>. Seznamte se s obsahem hlavního programu a trasujte si jednotlivá volání.</p>
<h3>Testovací hodnoty</h3>
<p >Aby bylo možné provádět testování spojené s parametry datového typu daného <code>CBlock</code>, je nutné, aby vstupní parametry nabývaly různých hodnot, podle aktuálního datového typu (zvoleného v <code><a class="el" href="_c_block_8h.html" title="General header for CBlock.">CBlock.h</a></code>). Proto je nutné generovat pro různé implementace <code>CBlock</code> hodnoty vstupních parametrů správného datového typu. Každá z implementací třídy <code>CBlock</code> proto obsahuje šest základních metod vracejících hodnotu datového typu, který je vhodný pro vložení do složky <code>iValue</code>. Projděte si uvedené mechanismy a snažte se pochopit jejich vliv na nezávislost kódu hlavního programu. Jelikož tyto funkce jsou umístěny ve stejném jmenném prostoru jako překládaná varianta <code>CBlock</code>, jsou při generování hodnot vždy správné datové typy, odpovídají typům parametrů. Každá varianta <code>CBlock</code> bude tedy mít ve svém jmenném prostoru své vlastní funkce pro generování hodnot.</p>
<p >Jedná se o tyto metody:</p><ul>
<li><code>TestValue0()</code> (např. <code><a class="el" href="class_c_block___t_interval_1_1_c_block.html#a8139af58dbe1848b4c6f0fb28f60cbf7" title="First test value.">CBlock_bool::CBlock::TestValue0()</a></code>)</li>
<li><code>TestStringValue0()</code> (např. <code><a class="el" href="class_c_block___t_interval_1_1_c_block.html#ae80a3780b919670fb8c2ab85340eb538" title="First test string value.">CBlock_bool::CBlock::TestStringValue0</a></code>)</li>
<li><code>TestValue1()</code> (např. <code><a class="el" href="class_c_block___t_interval_1_1_c_block.html#a11a93e4df5bb09e1b93f2eee59453180" title="Second test value.">CBlock_bool::CBlock::TestValue1</a></code>)</li>
<li><code>TestStringValue1()</code> (např. <code><a class="el" href="class_c_block___t_interval_1_1_c_block.html#a5c3fbf3055864bdec9ee4b856370fb2e" title="Second test string value.">CBlock_bool::CBlock::TestStringValue1</a></code>)</li>
<li><code>TestValueRandom()</code> (např. <code><a class="el" href="class_c_block___t_interval_1_1_c_block.html#a23db97d308c72c22af55ead4edc30651" title="Random test value.">CBlock_bool::CBlock::TestValueRandom</a></code>)</li>
<li><code>TestStringRandom()</code> (např. <code><a class="el" href="class_c_block___t_interval_1_1_c_block.html#a6f8c5803c7b38c0bd39ad27133d20961" title="Random test string value.">CBlock_bool::CBlock::TestStringValueRandom</a></code>)</li>
</ul>
<h3>Další kontrolní vlastnosti prvku</h3>
<p >Třída <code>CBlock</code> obsahuje několik kontrolních a ladicích mechanismů, které budete jistě chtít využívat.</p>
<ul>
<li>Členskou proměnnou <code>iInstanceInfo</code> typu <code>ClassInfo</code> obsahující počítadlo vzniklých instancí (viz dále).</li>
<li>Pokud budete v metodách třídy <code>CBlock</code> dynamicky alokovat paměť nezapomeňte na kontroly dealokace paměti pomocí knihovny check.</li>
<li>Pokud je prováděn překlad v <em>Debug režimu</em> je při každém spuštění zajištěna identická inicializace generátoru náhodných čísel. Tím při každém krokování programu bude generován pro stejná vstupní data identický seznam (výsledný kontejner bude obsahovat prvky se stejnými hodnotami pro každé spuštění). Až si budete jisti, že program je funkční, zkuste přepnout překlad do <em>Release režimu</em> a ověřit správnou funkci celého kontejneru při různých počátečních podmínkách generátoru náhodných čísel.</li>
<li>Již základní společná třída <code><a class="el" href="class_c_block_base.html" title="CBlockBase class.">CBlockBase</a></code> (a tedy i každý její potomek <code>CBlock</code>) obsahuje kontrolní mechanismus. Prvek při své destrukci kontroluje, zda není součástí seznamu dalších prvků a pokud ano, generuje chybové hlášení případně i výjimku <code>std::runtime_error</code>. Možno navolit volbou <a class="el" href="_c_block_base_8h.html#a2891b00a00a617a746fa3ebe9e79a082">KCBlockDtorNoException</a> v <a class="el" href="_c_block_base_8h.html" title="CBlockBase class header.">CBlockBase.h</a>.</li>
</ul>
<h3>Třída ClassInfo</h3>
<p >Třída <code>ClassInfo</code> implementuje mechanismus automatického počítání vzniklých objektů a mechanismus jednoznačné identifikace <code>ClassInfo&lt;&gt;::ID</code> "ID" instancí za běhu programu. Tento mechanismus se Vám bude hodit při ladění programu pro rozlišení jednotlivých objektů (každý objekt má po celou dobu svého života stejné "ID" přidělené při vzniku).</p>
<p >Všechny Vaše třídy by měly obsahovat datovou složku <a class="el" href="class_c_block___t_interval_1_1_c_block.html#a24bfe889167a6cce76ec77d0ac04fb4a">iInstanceInfo</a> třídy <code>ClassInfo</code>, čímž zajistíte Vašim třídám tyto ladicí vlastnosti. Samotná třída <code>ClassInfo</code> je definována jako šablona umožňující, vznik různých variant této třídy - (generické programování resp. metaprogramování).</p>
<p >Mezi ladicí metody třídy <code>ClassInfo</code> patří:</p><ul>
<li><code>ClassInfo&lt;T&gt;::Total()</code> - počítadlo vzniklých instancí třídy <code>T</code></li>
<li><code>ClassInfo&lt;T&gt;::Living()</code> - počítadlo v daném okamžiku existujících instancí třídy <code>T</code></li>
<li><code>ClassInfo&lt;T&gt;::ID()</code> resp. <a class="el" href="class_c_block___t_interval_1_1_c_block.html#a086e66cf873c6e70fc5962fce0028aed">CBlock::ID()</a> - unikátní číselné označení dané instance</li>
</ul>
<dl class="section attention"><dt>Attention</dt><dd>Projděte si všechny uvedené kontrolní i ladicí mechanismy, snažte se pochopit jejich smysl a využití při trasování programu. Získané vědomosti se Vám budou rozhodně hodit, například když se nějaká část Vašeho programu začne chovat "podezřele" či přímo "nepřátelsky".</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Hodně štěstí při realizaci Vašeho projektu. Nebojte se, ono to půjde. Hlavně <em>nepropadejte panice!</em> ;-)</dd></dl>
<p>Pety 201X / 2022 modified Richter </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Dec 2 2022 22:06:41 for BPC-PPC 2022: CBlock Project by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
